% includes
\documentclass{article}
\usepackage[utf8]{inputenc}
\usepackage{titlesec}
\usepackage[a4paper, left=1.5cm, right=1.5cm, bottom=1cm, top=1.5cm]{geometry}
\usepackage{hyperref}
\usepackage{amsthm}
\usepackage[most]{tcolorbox}
\usepackage{graphicx}
\usepackage{svg}
\usepackage{multicol}
\usepackage{wrapfig}

\pagestyle{empty}

% style of hyperlinks
\hypersetup{
    colorlinks=true,
    linkcolor=blue,
    filecolor=magenta,      
    urlcolor=cyan
    }

\urlstyle{same}

% want a one-page CV? switch the comment between these lines
% if the \iffalse version is uncommented, \fluff blocks are hidden
% see below for examples
\newcommand\fluff{\iftrue}
% \newcommand\fluff{\iffalse}


% how headers look
\titleformat{\section}{\hide}{}{-1in}{}
\titleformat{\subsection}{\bfseries \large}{}{0em}{}%{$\bullet$ }

% formatting specific to one-page layout (smaller margins)
\fluff
\else
\titlespacing{\subsection}{0pt}{0pt}{0pt}
\addtolength{\topmargin}{-1cm}
\fi

% define icons
\newcommand\fstar{\includesvg[scale=0.5]{icon/fstar} \>}
\newcommand\lstar{\includesvg[scale=0.5]{icon/lstar} \>}
\newcommand\mstar{\includesvg[scale=0.5]{icon/mstar} \>}

\newcommand\fstars{\includesvg[scale=0.3]{icon/fstar} \>}
\newcommand\lstars{\includesvg[scale=0.3]{icon/lstar} \>}
\newcommand\mstars{\includesvg[scale=0.3]{icon/mstar} \>}


\newcommand\icemail{\includesvg[scale=0.4]{icon/email} \>}
\newcommand\icwebsite{\includesvg[scale=0.4]{icon/website} \>}
\newcommand\icphone{\includesvg[scale=0.4]{icon/phone} \>}
\newcommand\icgithub{\includesvg[scale=0.4]{icon/github} \>}


% Cool graphic: section markers on left side
\newcommand\makesection[2]{
	\newtcolorbox{#1}{
		freelance,
		width=\dimexpr\textwidth+28pt\relax,
		before=\par\vspace{\bigskipamount}\noindent,
		enlarge left by=-14pt,
		overlay unbroken and first={
		  \draw[ % main line
		  line width=2pt,
		  black
		  ] ([xshift=4pt]frame.north west) -- ([xshift=4pt]frame.south west);
		  \draw[ % top horizontal
		  line width=2pt,
		  black
		  ] ([xshift=3pt]frame.north west) -- ([xshift=8pt]frame.north west);
		  \draw[ % bottom horizontal
		  line width=2pt,
		  black
		  ] ([xshift=3pt]frame.south west) -- ([xshift=8pt]frame.south west);
		  \node[
		  anchor=east,
		  inner xsep=8pt,
		  xshift=8pt,
		  font=\bfseries,
		  fill=white] at ([xshift=0.3cm]frame.west) (tit) { \rotatebox[origin=c]{90}{ \large{#2}  }};
		},
		frame code={},
		interior code={},
		top=0pt,
		bottom=0pt
	}
}


% section markers need to defined manually
\fluff
	\makesection{sectworkexp}{Work Experience}
	\makesection{sectprojects}{Notable Projects}
	\makesection{secteducation}{Education}
	\makesection{sectprogrammingskills}{Programming Skills}
	\makesection{sectsoftskills}{Soft Skills}
	\makesection{sectlanguages}{Languages}
\else
	% Some titles are shortened
	\makesection{sectworkexp}{Experience}
	\makesection{sectprojects}{Projects}
	\makesection{secteducation}{Studies}
	\makesection{sectprogrammingskills}{Coding Skills}
	\makesection{sectsoftskills}{Soft Skills}
	\makesection{sectlanguages}{Languages}
\fi


\begin{document}


% personal info
% note: using \include instead of \input causes the included part to take up a whole page
\input{personal.tex}


% plaintext summary/bio
\fluff
\input{summary.tex}
\fi


\begin{sectworkexp}
	\input{sWorkExperience.tex}
\end{sectworkexp}

\begin{sectprojects}
	\input{sProjects.tex}
\end{sectprojects}

\begin{secteducation}
	\input{sEducation.tex}
\end{secteducation}

\fluff
\newpage
\fi

\begin{sectprogrammingskills}
	\input{sProgramming.tex}
\end{sectprogrammingskills}

\fluff
\newpage
\fi

\fluff
\else
\begin{multicols}{2}
\fi

\begin{sectsoftskills}
	\input{sSoftSkills.tex}
\end{sectsoftskills}

\begin{sectlanguages}
	\input{sLanguages.tex}
\end{sectlanguages}

\fluff
\else
\end{multicols}
\fi

\end{document}

